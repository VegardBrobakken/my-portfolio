import{e as N,a as y,t as L,g as U}from"../chunks/disclose-version._hBSoWnm.js";import{i as A}from"../chunks/legacy.B0p2oGWp.js";import{p as $,t as T,a as I,s as x,c as v,g as b,n as J,r as w,m as j,z as f,aE as W}from"../chunks/runtime.DH9pO5VC.js";import{s as X}from"../chunks/render.4F26tfU1.js";import{i as _}from"../chunks/if.BfAC6568.js";import{s as Y}from"../chunks/class.CS7InD7a.js";class g{constructor(t=0,s="Network Error"){this.status=t,this.text=s}}const G=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:G()},P=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},Q=(e,t="https://api.emailjs.com")=>{if(!e)return;const s=P(e);a.publicKey=s.publicKey,a.blockHeadless=s.blockHeadless,a.storageProvider=s.storageProvider,a.blockList=s.blockList,a.limitRate=s.limitRate,a.origin=s.origin||t},S=async(e,t,s={})=>{const o=await fetch(a.origin+e,{method:"POST",headers:s,body:t}),r=await o.text(),i=new g(o.status,r);if(o.ok)return i;throw i},R=(e,t,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Z=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},F=e=>e.webdriver||!e.languages||e.languages.length===0,H=()=>new g(451,"Unavailable For Headless Browser"),ee=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},te=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},se=(e,t)=>e instanceof FormData?e.get(t):e[t],E=(e,t)=>{if(te(e))return!1;ee(e.list,e.watchVariable);const s=se(t,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},V=()=>new g(403,"Forbidden"),ae=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},re=async(e,t,s)=>{const o=Number(await s.get(e)||0);return t-Date.now()+o},q=async(e,t,s)=>{if(!t.throttle||!s)return!1;ae(t.throttle,t.id);const o=t.id||e;return await re(o,t.throttle,s)>0?!0:(await s.set(o,Date.now().toString()),!1)},K=()=>new g(429,"Too Many Requests"),oe=async(e,t,s,o)=>{const r=P(o),i=r.publicKey||a.publicKey,l=r.blockHeadless||a.blockHeadless,h=r.storageProvider||a.storageProvider,u={...a.blockList,...r.blockList},p={...a.limitRate,...r.limitRate};return l&&F(navigator)?Promise.reject(H()):(R(i,e,t),Z(s),s&&E(u,s)?Promise.reject(V()):await q(location.pathname,p,h)?Promise.reject(K()):S("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:e,template_id:t,template_params:s}),{"Content-type":"application/json"}))},ie=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ne=e=>typeof e=="string"?document.querySelector(e):e,le=async(e,t,s,o)=>{const r=P(o),i=r.publicKey||a.publicKey,l=r.blockHeadless||a.blockHeadless,h=a.storageProvider||r.storageProvider,u={...a.blockList,...r.blockList},p={...a.limitRate,...r.limitRate};if(l&&F(navigator))return Promise.reject(H());const d=ne(s);R(i,e,t),ie(d);const m=new FormData(d);return E(u,m)?Promise.reject(V()):await q(location.pathname,p,h)?Promise.reject(K()):(m.append("lib_version","4.4.1"),m.append("service_id",e),m.append("template_id",t),m.append("user_id",i),S("/api/v1.0/email/send-form",m))},ce={init:Q,send:oe,sendForm:le,EmailJSResponseStatus:g};var me=L('<svg class="animate-spin h-5 w-5 mr-2 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg> Sending...',1),de=L("<p> </p>"),ue=L('<section class="w-4/5 mx-auto mb-12"><form id="contact-form" class="flex flex-col md:w-2/3 xl:w-1/3 m-auto mt-8 lg:mt-6 mb-10"><h1 class="uppercase mt-20 text-center mb-10">Contact me</h1> <label for="firstname">Firstname:</label> <input name="firstname" placeholder="Firstname" class="px-2 py-1 rounded text-black" required> <label for="lastname" class="mt-2">Lastname:</label> <input name="lastname" placeholder="Lastname" class="px-2 py-1 rounded text-black" required> <label for="email" class="mt-2">Email:</label> <input name="email" placeholder="Email" class="px-2 py-1 rounded text-black" required type="email"> <label for="company" class="mt-2">Company:</label> <input name="company" placeholder="Company" class="px-2 py-1 rounded text-black"> <label for="message" class="mt-2">Message:</label> <textarea name="message" placeholder="Message..." class="px-2 py-1 h-32 rounded text-black" required></textarea> <button type="submit" class="mt-5 bg-green-700 py-1 px-4 rounded shadow flex items-center justify-center"><!> <!></button> <!></form></section>');function ve(e,t){$(t,!1);const s="service_p04rw0i",o="template_zxhb5g9",r="7KzFqgk89UUDu3XVm";let i=j(!1),l=j(null);const h=async n=>{n.preventDefault();const c=n.target;f(i,!0),f(l,null);try{await ce.sendForm(s,o,c,r),console.log("SUCCESS!"),f(l,"Your message has been sent!")}catch(k){console.log("FAILED...",k.text),f(l,"There was an error sending your message. Try again later")}finally{f(i,!1),setTimeout(()=>{f(l,null)},5e3)}};A();var u=ue(),p=v(u),d=x(v(p),22),m=v(d);{var C=n=>{var c=me();J(),y(n,c)};_(m,n=>{b(i)&&n(C)})}var M=x(m,2);{var B=n=>{var c=U("Send");y(n,c)};_(M,n=>{b(i)||n(B)})}w(d);var D=x(d,2);{var O=n=>{var c=de();const k=W(()=>`mt-2 ${b(l).includes("error")?"text-red-500":"text-green-500"}`);var z=v(c,!0);w(c),T(()=>{Y(c,b(k)),X(z,b(l))}),y(n,c)};_(D,n=>{b(l)&&n(O)})}w(p),w(u),T(()=>d.disabled=b(i)),N("submit",p,h),y(e,u),I()}export{ve as component};
